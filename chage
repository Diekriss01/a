#include <Wire.h>
#include <LiquidCrystal_I2C.h>

LiquidCrystal_I2C lcd(0x27, 16, 2); // Address 0x27, 16 columns and 2 rows
int coinCount = 0;

void setup() {
  lcd.init(); // Initialize the LCD
  lcd.backlight(); // Turn on backlight
  lcd.clear(); // Clear the LCD screen
  lcd.setCursor(0, 0);
  lcd.print("Coin Counter");
  lcd.setCursor(0, 1);
  lcd.print("Count: ");
  
  pinMode(2, INPUT_PULLUP); // Assuming coin counter input is connected to digital pin 2
  attachInterrupt(digitalPinToInterrupt(2), countCoin, FALLING); // Attach interrupt for coin counting
}

void loop() {
  // Main loop, nothing to do here as we are using interrupts for counting
}

void countCoin() {
  coinCount++; // Increment coin count
  updateLCD(); // Update the LCD display
}

void updateLCD() {
  lcd.setCursor(7, 1); // Set cursor to the position where count is displayed
  lcd.print("     "); // Clear previous count display
  lcd.setCursor(7, 1); // Reset cursor position
  lcd.print(coinCount); // Print updated coin count
}
